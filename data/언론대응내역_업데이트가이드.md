# 📋 언론대응내역.csv 업데이트 가이드

## 1. 파일 위치
```
data/언론대응내역.csv
```

## 2. CSV 파일 형식

### 필수 컬럼 (7개)
```csv
순번,발생 일시,발생 유형,현업 부서,단계,이슈 발생 보고,대응 결과
```

### 컬럼 설명

| 컬럼명 | 필수여부 | 형식 | 설명 | 예시 |
|--------|----------|------|------|------|
| **순번** | 필수 | 숫자 | 고유 번호 (중복 불가) | 1, 2, 3, ... |
| **발생 일시** | 필수 | 날짜 | YYYY-MM-DD 형식 | 2024-01-15 |
| **발생 유형** | 필수 | 텍스트 | 이슈 유형 분류 | 기획기사, 보도자료, 단독보도 등 |
| **현업 부서** | 선택 | 텍스트 | 담당 부서명 | 홍보팀, IR팀 등 (빈 값 가능) |
| **단계** | 필수 | 텍스트 | 위기 단계 | 관심, 주의, 위기, 비상 |
| **이슈 발생 보고** | 필수 | 텍스트 | 이슈 내용 요약 | "포스코인터, 글로벌 시장 진출" |
| **대응 결과** | 선택 | 텍스트 | 대응 결과 또는 매체명 | 연합뉴스, 보도자료 배포 등 |

## 3. 데이터 입력 예시

### ✅ 올바른 예시
```csv
순번,발생 일시,발생 유형,현업 부서,단계,이슈 발생 보고,대응 결과
1,2024-01-15,기획기사,홍보팀,관심,포스코인터 전기차 부품 수주 확대,연합뉴스
2,2024-01-20,보도자료,,관심,2024년 1분기 실적 발표,보도자료 배포
3,2024-02-05,단독보도,IR팀,주의,미얀마 사업 관련 보도,해명자료 발송
```

### ❌ 잘못된 예시
```csv
# 날짜 형식 오류
1,2024/01/15,기획기사,,관심,내용,결과  ❌ → 2024-01-15 형식 사용

# 필수 컬럼 누락
1,2024-01-15,기획기사,,,  ❌ → 단계, 이슈 발생 보고 필수

# 큰따옴표 처리 오류
1,2024-01-15,기획기사,,관심,"포스코인터, 실적 발표",연합뉴스  ⚠️ 쉼표 포함 시 큰따옴표 필요
```

## 4. CSV 파일 편집 방법

### 방법 1: Excel 사용
1. `언론대응내역.csv` 파일을 Excel로 열기
2. 새 행 추가 후 데이터 입력
3. **주의**: 저장 시 **"CSV UTF-8 (쉼표로 분리)(*.csv)"** 형식으로 저장

### 방법 2: 텍스트 에디터 사용 (VS Code, 메모장 등)
1. UTF-8 인코딩으로 파일 열기
2. 마지막 줄에 새 데이터 추가
3. UTF-8 인코딩으로 저장

## 5. 업데이트 후 확인 절차

1. **파일 저장 확인**
   - CSV 파일이 UTF-8 인코딩으로 저장되었는지 확인

2. **웹 페이지에서 확인**
   - Streamlit 앱 실행 중이면 자동으로 파일 변경 감지
   - "기존대응이력 검색" 페이지 접속
   - 우측 상단 **"🔄 새로고침"** 버튼 클릭

3. **데이터 통계 확인**
   - "📊 데이터 통계" 섹션에서 총 건수 확인
   - 날짜 형식 오류 경고 확인

4. **검색 테스트**
   - 새로 추가한 데이터로 검색 테스트

## 6. 주의사항

### ⚠️ 인코딩
- 반드시 **UTF-8** 인코딩 사용
- ANSI, EUC-KR 인코딩은 한글 깨짐 발생

### ⚠️ 날짜 형식
- 반드시 **YYYY-MM-DD** 형식 (예: 2024-01-15)
- 시간 정보는 무시됨

### ⚠️ 쉼표 처리
- 셀 내용에 쉼표(,)가 포함된 경우 큰따옴표로 감싸기
- 예: `"포스코인터, 글로벌 시장 진출"`

### ⚠️ 순번 관리
- 순번은 고유해야 함 (중복 불가)
- 새 데이터 추가 시 마지막 순번 + 1

## 7. 트러블슈팅

### 문제: 데이터가 웹에 표시되지 않음
**해결방법:**
1. 파일명이 정확한지 확인: `언론대응내역.csv`
2. 파일 위치 확인: `data/` 폴더 내
3. UTF-8 인코딩 확인
4. 웹 페이지에서 "🔄 새로고침" 버튼 클릭

### 문제: "날짜 형식 오류" 경고
**해결방법:**
- 날짜 형식을 `YYYY-MM-DD`로 수정
- Excel에서 날짜 셀 형식을 "텍스트"로 변경 후 수동 입력

### 문제: 한글이 깨짐
**해결방법:**
- Excel 저장 시 "CSV UTF-8" 형식 선택
- 텍스트 에디터에서 UTF-8 인코딩으로 저장

### 문제: 일부 데이터가 검색되지 않음
**해결방법:**
- 필수 컬럼이 모두 채워져 있는지 확인
- 검색어 철자 확인
- 단계, 유형 필터 설정 확인

## 8. 백업 권장사항

- 중요한 수정 전 백업 파일 생성
- 백업 파일명 예시: `언론대응내역_백업_20240121.csv`
- `data/backups/` 폴더에 저장 권장

## 9. 템플릿

새 데이터 추가 시 아래 템플릿 사용:

```csv
[순번],[YYYY-MM-DD],[발생유형],[부서명],[단계],[이슈내용],[대응결과]
```

예시:
```csv
3700,2024-01-21,기획기사,홍보팀,관심,포스코인터 신규 사업 진출,연합뉴스
```

---

## 문의사항
기술적 문제 발생 시 시스템 관리자에게 문의하세요.
